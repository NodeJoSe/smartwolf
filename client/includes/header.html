<header ng-controller="HeaderController">
  <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">

      <!-- Icono Responsive -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" ng-click="navbarCollapsed = !navbarCollapsed">
          <span class="sr-only">Desplegar / Ocultar Menu</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="/" type="button">
          <img src="/public/img/logo.png" class="SW-home-logo"/>
        </a>
        <a href="/" class="active dropdown navbar-brand">
          SmartWolf
        </a>
      </div>

      <!-- Inicia Menu -->
      <div class="navbar-collapse" uib-collapse="navbarCollapsed" ng-controller="DropdownController">
        <!-- NAVBAR LEFT -->
        <ul class="nav navbar-nav navbar-left">
          <li class="dropdown" uib-dropdown on-toggle="toggled(open)">
            <a href id="simple-dropdown2" uib-dropdown-toggle>
              Categorias
            </a>
            <ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="simple-dropdown2">
              <li ng-repeat="item in items">
                <a ng-href="/articulos/{{item}}">{{item}}</a>
              </li>
            </ul>
          </li>
        </ul>
        <!-- NAVBAR RIGHT -->
        <ul class="nav navbar-nav navbar-right" ng-controller="LogoutController">
          <li ng-if="online" class="fadeInOut">
            <a href="/carrito">
              <span class="glyphicon glyphicon-shopping-cart"></span>
              Carrito
            </a>
          </li>
          <li ng-if="online" class="dropdown fadeInOut" uib-dropdown on-toggle="toggled(open)">

            <a href="" id="simple-dropdown" uib-dropdown-toggle>
              <span class="glyphicon glyphicon-log-out"></span>
              {{currentUser}}
            </a>

            <ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="simple-dropdown">
              <li ng-if="currentUser === 'admin'">
                <a href="/admin/users" class="text-center">
                  <span class="glyphicon glyphicon-briefcase"></span>
                  Admin
                </a>
              </li>
              <li>
                <a href="/perfil" class="text-center">
                  <span class="glyphicon glyphicon-cog"></span>
                  Perfil
                </a>
              </li>
              <li role="separator" class="divider"></li>
              <li>
                <a href="" class="text-center" ng-click="logout()">
                  <span class="glyphicon glyphicon-log-out"></span>
                  Logout
                </a>
              </li>
            </ul>
          </li>
          <li ng-if="!online" class="fadeInOut">
            <a href="/register">
              <span class="glyphicon glyphicon-check"></span>
              Registrarse
            </a>
          </li>
          <!-- LOGIN FORM -->
          <li ng-if="!online" class="dropdown fadeInOut" uib-dropdown on-toggle="toggled(open)">
            <a href="#" class="dropdown-toggle" uib-dropdown-toggle role="button">
              <span class="glyphicon glyphicon-log-in"></span>
              Iniciar Sesion
            </a>

            <ul class="login dropdown-menu">
              <li>
                <div class="row">
                  <div class="col-md-12" ng-controller="LoginController">
                    <div ng-show="error" class="alert alert-danger">{{errorMessage}}
                    </div>
                    <form class="form" role="form" ng-submit="login()" accept-charset="UTF-8" id="login-nav">
                      <div class="form-group">
                        <label class="sr-only" for="exampleInputEmail2">
                          Usuario
                        </label>
                        <input ng-model="loginForm.username" type="text" name="name" class="form-control" id="exampleInputEmail" placeholder="Usuario" required ng-click="$event.stopPropagation()"/>
                      </div>
                      <div class="form-group">
                        <label class="sr-only" for="exampleInputPassword2">
                          Contraseña
                        </label>
                        <input ng-model="loginForm.password" type="password" name="pass" class="form-control" id="exampleInputPassword2" placeholder="Contraseña" required ng-click="$event.stopPropagation()"/>
                      </div>
                      <div class="form-group">
                        <button type="submit" class="btn btn-info btn-block" ng-disabled="disabled" ng-click="$event.stopPropagation()">
                          Iniciar sesión
                        </button>
                      </div>
                    </form>
                  </div>
                  <div class="bottom text-center">
                    ¿Eres nuevo?
                    <a href="/register">
                      <b>Crea tu cuenta</b>
                    </a>
                  </div>
                </div>
              </li>
            </ul>
          </li>

        </ul>

        <!-- NAVBAR CENTER -->
        <form class="text-center navbar-form" role="search">
          <div class="input-group">
            <input type="text" ng-model="templateUrl" class="form-control" placeholder="¿Que estas buscando?"/>
            <span class="input-group-btn">
              <a ng-href="/busqueda/{{templateUrl}}" class="btn btn-info" type="button">
                <span class="glyphicon glyphicon-search"></span>
              </a>
            </span>
          </div>
        </form>

      </div>
    </div>
  </nav>
</header>
